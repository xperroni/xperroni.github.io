<!DOCTYPE html>
<html lang="en">
<head>

        <title>Controlling a differential drive robot in Gazebo from ROS</title>
        <meta charset="utf-8" />
        <link href="https://xperroni.me/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Home Page of Helio Perroni Filho Full Atom Feed" />
        <link href="https://xperroni.me/feeds/code.atom.xml" type="application/atom+xml" rel="alternate" title="Home Page of Helio Perroni Filho Categories Atom Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="./theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="./theme/style.css" />
        <link rel="stylesheet" type="text/css" href="./theme/pygment.css" />

        <script src="./theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="./">Home Page of Helio Perroni Filho <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="./">Home</a></li>

                <li><a href="/posts.html">Posts</a></li>
                <li><a href="./pages/projects.html">Projects</a></li>

              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="./controlling-a-differential-drive-robot-in-gazebo-from-ros.html" rel="bookmark"
                   title="Permalink to Controlling a differential drive robot in Gazebo from ROS">Controlling a differential drive robot in Gazebo from ROS</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-05-21T21:12:00-04:00">
                Thu 21 May 2015
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="./author/helio-perroni-filho.html"> Helio Perroni Filho</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p><a href="http://gazebosim.org/">Gazebo</a> is a simulation suite targeted at robotics projects, used by DARPA to implement the virtual part of its <a href="http://spectrum.ieee.org/automaton/robotics/robotics-software/osrf-prepares-for-darpa-virtual-robotics-challenge">Robotics Challenge</a>. It's a great companion to the <a href="http://www.ros.org/">Robot Operating System</a>, supporting <a href="http://gazebosim.org/tutorials?cat=connect_ros">several ways</a> to interface with it.</p>
<p>One recurrent question regarding Gazebo is how to control robots described in <a href="http://sdformat.org/">Simulation Description Format (SDF)</a> models from ROS. The more involved case of <a href="http://gazebosim.org/tutorials?tut=ros_urdf&amp;cat=connect_ros">porting a URDF model to Gazebo</a> and <a href="http://gazebosim.org/tutorials?tut=ros_control&amp;cat=connect_ros">manipulating it through ROS Control</a> interfaces is well documented, but what about a robot that already has a full SDF model available? Isn't it possible to just paste it into a Gazebo workspace and get some ROS topics to manipulate it?</p>
<p>The tutorial below covers this simpler case. It is based on the SDF model for the <a href="http://www-lar.deis.unibo.it/equipments/p2dx/">Pioneer 2DX</a> differential drive robot, which is available from Gazebo's default library. It also assumes ROS and Gazebo are already installed, as well as the necessary <a href="http://gazebosim.org/tutorials?tut=ros_installing&amp;cat=connect_ros">integration packages</a> and <a href="http://gazebosim.org/tutorials?tut=ros_gzplugins&amp;cat=connect_ros">plugins</a>.</p>
<p>First, save the SDF world model below to your local filesystem as <code>pioneer2dx_ros.world</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; ?&gt;</span>
<span class="nt">&lt;sdf</span> <span class="na">version=</span><span class="s">&quot;1.4&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;world</span> <span class="na">name=</span><span class="s">&quot;default&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;light</span> <span class="na">name=</span><span class="s">&quot;sun&quot;</span> <span class="na">type=</span><span class="s">&quot;directional&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;cast_shadows&gt;</span>1<span class="nt">&lt;/cast_shadows&gt;</span>
      <span class="nt">&lt;pose&gt;</span>0 0 10 0 -0 0<span class="nt">&lt;/pose&gt;</span>
      <span class="nt">&lt;diffuse&gt;</span>0.8 0.8 0.8 1<span class="nt">&lt;/diffuse&gt;</span>
      <span class="nt">&lt;specular&gt;</span>0.2 0.2 0.2 1<span class="nt">&lt;/specular&gt;</span>
      <span class="nt">&lt;attenuation&gt;</span>
        <span class="nt">&lt;range&gt;</span>1000<span class="nt">&lt;/range&gt;</span>
        <span class="nt">&lt;constant&gt;</span>0.9<span class="nt">&lt;/constant&gt;</span>
        <span class="nt">&lt;linear&gt;</span>0.01<span class="nt">&lt;/linear&gt;</span>
        <span class="nt">&lt;quadratic&gt;</span>0.001<span class="nt">&lt;/quadratic&gt;</span>
      <span class="nt">&lt;/attenuation&gt;</span>
      <span class="nt">&lt;direction&gt;</span>-0.5 0.1 -0.9<span class="nt">&lt;/direction&gt;</span>
    <span class="nt">&lt;/light&gt;</span>
    <span class="nt">&lt;model</span> <span class="na">name=</span><span class="s">&quot;ground_plane&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;static&gt;</span>1<span class="nt">&lt;/static&gt;</span>
      <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;link&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;collision</span> <span class="na">name=</span><span class="s">&quot;collision&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;plane&gt;</span>
              <span class="nt">&lt;normal&gt;</span>0 0 1<span class="nt">&lt;/normal&gt;</span>
              <span class="nt">&lt;size&gt;</span>100 100<span class="nt">&lt;/size&gt;</span>
            <span class="nt">&lt;/plane&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;surface&gt;</span>
            <span class="nt">&lt;friction&gt;</span>
              <span class="nt">&lt;ode&gt;</span>
                <span class="nt">&lt;mu&gt;</span>100<span class="nt">&lt;/mu&gt;</span>
                <span class="nt">&lt;mu2&gt;</span>50<span class="nt">&lt;/mu2&gt;</span>
              <span class="nt">&lt;/ode&gt;</span>
            <span class="nt">&lt;/friction&gt;</span>
            <span class="nt">&lt;bounce/&gt;</span>
            <span class="nt">&lt;contact&gt;</span>
              <span class="nt">&lt;ode/&gt;</span>
            <span class="nt">&lt;/contact&gt;</span>
          <span class="nt">&lt;/surface&gt;</span>
          <span class="nt">&lt;max_contacts&gt;</span>10<span class="nt">&lt;/max_contacts&gt;</span>
        <span class="nt">&lt;/collision&gt;</span>
        <span class="nt">&lt;visual</span> <span class="na">name=</span><span class="s">&quot;visual&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;cast_shadows&gt;</span>0<span class="nt">&lt;/cast_shadows&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;plane&gt;</span>
              <span class="nt">&lt;normal&gt;</span>0 0 1<span class="nt">&lt;/normal&gt;</span>
              <span class="nt">&lt;size&gt;</span>100 100<span class="nt">&lt;/size&gt;</span>
            <span class="nt">&lt;/plane&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;material&gt;</span>
            <span class="nt">&lt;script&gt;</span>
              <span class="nt">&lt;uri&gt;</span>file://media/materials/scripts/gazebo.material<span class="nt">&lt;/uri&gt;</span>
              <span class="nt">&lt;name&gt;</span>Gazebo/Grey<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/script&gt;</span>
          <span class="nt">&lt;/material&gt;</span>
        <span class="nt">&lt;/visual&gt;</span>
        <span class="nt">&lt;velocity_decay&gt;</span>
          <span class="nt">&lt;linear&gt;</span>0<span class="nt">&lt;/linear&gt;</span>
          <span class="nt">&lt;angular&gt;</span>0<span class="nt">&lt;/angular&gt;</span>
        <span class="nt">&lt;/velocity_decay&gt;</span>
        <span class="nt">&lt;self_collide&gt;</span>0<span class="nt">&lt;/self_collide&gt;</span>
        <span class="nt">&lt;kinematic&gt;</span>0<span class="nt">&lt;/kinematic&gt;</span>
        <span class="nt">&lt;gravity&gt;</span>1<span class="nt">&lt;/gravity&gt;</span>
      <span class="nt">&lt;/link&gt;</span>
    <span class="nt">&lt;/model&gt;</span>
    <span class="nt">&lt;physics</span> <span class="na">type=</span><span class="s">&quot;ode&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;max_step_size&gt;</span>0.001<span class="nt">&lt;/max_step_size&gt;</span>
      <span class="nt">&lt;real_time_factor&gt;</span>1<span class="nt">&lt;/real_time_factor&gt;</span>
      <span class="nt">&lt;real_time_update_rate&gt;</span>1000<span class="nt">&lt;/real_time_update_rate&gt;</span>
      <span class="nt">&lt;gravity&gt;</span>0 0 -9.8<span class="nt">&lt;/gravity&gt;</span>
    <span class="nt">&lt;/physics&gt;</span>
    <span class="nt">&lt;scene&gt;</span>
      <span class="nt">&lt;ambient&gt;</span>0.4 0.4 0.4 1<span class="nt">&lt;/ambient&gt;</span>
      <span class="nt">&lt;background&gt;</span>0.7 0.7 0.7 1<span class="nt">&lt;/background&gt;</span>
      <span class="nt">&lt;shadows&gt;</span>1<span class="nt">&lt;/shadows&gt;</span>
    <span class="nt">&lt;/scene&gt;</span>
    <span class="nt">&lt;spherical_coordinates&gt;</span>
      <span class="nt">&lt;surface_model&gt;</span>EARTH_WGS84<span class="nt">&lt;/surface_model&gt;</span>
      <span class="nt">&lt;latitude_deg&gt;</span>0<span class="nt">&lt;/latitude_deg&gt;</span>
      <span class="nt">&lt;longitude_deg&gt;</span>0<span class="nt">&lt;/longitude_deg&gt;</span>
      <span class="nt">&lt;elevation&gt;</span>0<span class="nt">&lt;/elevation&gt;</span>
      <span class="nt">&lt;heading_deg&gt;</span>0<span class="nt">&lt;/heading_deg&gt;</span>
    <span class="nt">&lt;/spherical_coordinates&gt;</span>
    <span class="nt">&lt;model</span> <span class="na">name=</span><span class="s">&quot;pioneer2dx&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;chassis&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>0 0 0.16 0 -0 0<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;inertial&gt;</span>
          <span class="nt">&lt;mass&gt;</span>5.67<span class="nt">&lt;/mass&gt;</span>
          <span class="nt">&lt;inertia&gt;</span>
            <span class="nt">&lt;ixx&gt;</span>0.07<span class="nt">&lt;/ixx&gt;</span>
            <span class="nt">&lt;iyy&gt;</span>0.08<span class="nt">&lt;/iyy&gt;</span>
            <span class="nt">&lt;izz&gt;</span>0.1<span class="nt">&lt;/izz&gt;</span>
            <span class="nt">&lt;ixy&gt;</span>0<span class="nt">&lt;/ixy&gt;</span>
            <span class="nt">&lt;ixz&gt;</span>0<span class="nt">&lt;/ixz&gt;</span>
            <span class="nt">&lt;iyz&gt;</span>0<span class="nt">&lt;/iyz&gt;</span>
          <span class="nt">&lt;/inertia&gt;</span>
        <span class="nt">&lt;/inertial&gt;</span>
        <span class="nt">&lt;collision</span> <span class="na">name=</span><span class="s">&quot;collision&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;box&gt;</span>
              <span class="nt">&lt;size&gt;</span>0.445 0.277 0.17<span class="nt">&lt;/size&gt;</span>
            <span class="nt">&lt;/box&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;max_contacts&gt;</span>10<span class="nt">&lt;/max_contacts&gt;</span>
          <span class="nt">&lt;surface&gt;</span>
            <span class="nt">&lt;bounce/&gt;</span>
            <span class="nt">&lt;friction&gt;</span>
              <span class="nt">&lt;ode/&gt;</span>
            <span class="nt">&lt;/friction&gt;</span>
            <span class="nt">&lt;contact&gt;</span>
              <span class="nt">&lt;ode/&gt;</span>
            <span class="nt">&lt;/contact&gt;</span>
          <span class="nt">&lt;/surface&gt;</span>
        <span class="nt">&lt;/collision&gt;</span>
        <span class="nt">&lt;collision</span> <span class="na">name=</span><span class="s">&quot;castor_collision&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>-0.2 0 -0.12 0 -0 0<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;sphere&gt;</span>
              <span class="nt">&lt;radius&gt;</span>0.04<span class="nt">&lt;/radius&gt;</span>
            <span class="nt">&lt;/sphere&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;surface&gt;</span>
            <span class="nt">&lt;friction&gt;</span>
              <span class="nt">&lt;ode&gt;</span>
                <span class="nt">&lt;mu&gt;</span>0<span class="nt">&lt;/mu&gt;</span>
                <span class="nt">&lt;mu2&gt;</span>0<span class="nt">&lt;/mu2&gt;</span>
                <span class="nt">&lt;slip1&gt;</span>1<span class="nt">&lt;/slip1&gt;</span>
                <span class="nt">&lt;slip2&gt;</span>1<span class="nt">&lt;/slip2&gt;</span>
              <span class="nt">&lt;/ode&gt;</span>
            <span class="nt">&lt;/friction&gt;</span>
            <span class="nt">&lt;bounce/&gt;</span>
            <span class="nt">&lt;contact&gt;</span>
              <span class="nt">&lt;ode/&gt;</span>
            <span class="nt">&lt;/contact&gt;</span>
          <span class="nt">&lt;/surface&gt;</span>
          <span class="nt">&lt;max_contacts&gt;</span>10<span class="nt">&lt;/max_contacts&gt;</span>
        <span class="nt">&lt;/collision&gt;</span>
        <span class="nt">&lt;visual</span> <span class="na">name=</span><span class="s">&quot;visual&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>0 0 0.04 0 -0 0<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;mesh&gt;</span>
              <span class="nt">&lt;uri&gt;</span>model://pioneer2dx/meshes/chassis.dae<span class="nt">&lt;/uri&gt;</span>
            <span class="nt">&lt;/mesh&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
        <span class="nt">&lt;/visual&gt;</span>
        <span class="nt">&lt;visual</span> <span class="na">name=</span><span class="s">&quot;castor_visual&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>-0.2 0 -0.12 0 -0 0<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;sphere&gt;</span>
              <span class="nt">&lt;radius&gt;</span>0.04<span class="nt">&lt;/radius&gt;</span>
            <span class="nt">&lt;/sphere&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;material&gt;</span>
            <span class="nt">&lt;script&gt;</span>
              <span class="nt">&lt;uri&gt;</span>file://media/materials/scripts/gazebo.material<span class="nt">&lt;/uri&gt;</span>
              <span class="nt">&lt;name&gt;</span>Gazebo/FlatBlack<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/script&gt;</span>
          <span class="nt">&lt;/material&gt;</span>
        <span class="nt">&lt;/visual&gt;</span>
        <span class="nt">&lt;velocity_decay&gt;</span>
          <span class="nt">&lt;linear&gt;</span>0<span class="nt">&lt;/linear&gt;</span>
          <span class="nt">&lt;angular&gt;</span>0<span class="nt">&lt;/angular&gt;</span>
        <span class="nt">&lt;/velocity_decay&gt;</span>
        <span class="nt">&lt;self_collide&gt;</span>0<span class="nt">&lt;/self_collide&gt;</span>
        <span class="nt">&lt;kinematic&gt;</span>0<span class="nt">&lt;/kinematic&gt;</span>
        <span class="nt">&lt;gravity&gt;</span>1<span class="nt">&lt;/gravity&gt;</span>
      <span class="nt">&lt;/link&gt;</span>
      <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_wheel&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>0.1 -0.17 0.11 0 1.5707 1.5707<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;inertial&gt;</span>
          <span class="nt">&lt;mass&gt;</span>1.5<span class="nt">&lt;/mass&gt;</span>
          <span class="nt">&lt;inertia&gt;</span>
            <span class="nt">&lt;ixx&gt;</span>0.0051<span class="nt">&lt;/ixx&gt;</span>
            <span class="nt">&lt;iyy&gt;</span>0.0051<span class="nt">&lt;/iyy&gt;</span>
            <span class="nt">&lt;izz&gt;</span>0.009<span class="nt">&lt;/izz&gt;</span>
            <span class="nt">&lt;ixy&gt;</span>0<span class="nt">&lt;/ixy&gt;</span>
            <span class="nt">&lt;ixz&gt;</span>0<span class="nt">&lt;/ixz&gt;</span>
            <span class="nt">&lt;iyz&gt;</span>0<span class="nt">&lt;/iyz&gt;</span>
          <span class="nt">&lt;/inertia&gt;</span>
        <span class="nt">&lt;/inertial&gt;</span>
        <span class="nt">&lt;collision</span> <span class="na">name=</span><span class="s">&quot;collision&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;cylinder&gt;</span>
              <span class="nt">&lt;radius&gt;</span>0.11<span class="nt">&lt;/radius&gt;</span>
              <span class="nt">&lt;length&gt;</span>0.05<span class="nt">&lt;/length&gt;</span>
            <span class="nt">&lt;/cylinder&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;surface&gt;</span>
            <span class="nt">&lt;friction&gt;</span>
              <span class="nt">&lt;ode&gt;</span>
                <span class="nt">&lt;mu&gt;</span>100000<span class="nt">&lt;/mu&gt;</span>
                <span class="nt">&lt;mu2&gt;</span>100000<span class="nt">&lt;/mu2&gt;</span>
                <span class="nt">&lt;slip1&gt;</span>0<span class="nt">&lt;/slip1&gt;</span>
                <span class="nt">&lt;slip2&gt;</span>0<span class="nt">&lt;/slip2&gt;</span>
              <span class="nt">&lt;/ode&gt;</span>
            <span class="nt">&lt;/friction&gt;</span>
            <span class="nt">&lt;bounce/&gt;</span>
            <span class="nt">&lt;contact&gt;</span>
              <span class="nt">&lt;ode/&gt;</span>
            <span class="nt">&lt;/contact&gt;</span>
          <span class="nt">&lt;/surface&gt;</span>
          <span class="nt">&lt;max_contacts&gt;</span>10<span class="nt">&lt;/max_contacts&gt;</span>
        <span class="nt">&lt;/collision&gt;</span>
        <span class="nt">&lt;visual</span> <span class="na">name=</span><span class="s">&quot;visual&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;cylinder&gt;</span>
              <span class="nt">&lt;radius&gt;</span>0.11<span class="nt">&lt;/radius&gt;</span>
              <span class="nt">&lt;length&gt;</span>0.05<span class="nt">&lt;/length&gt;</span>
            <span class="nt">&lt;/cylinder&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;material&gt;</span>
            <span class="nt">&lt;script&gt;</span>
              <span class="nt">&lt;uri&gt;</span>file://media/materials/scripts/gazebo.material<span class="nt">&lt;/uri&gt;</span>
              <span class="nt">&lt;name&gt;</span>Gazebo/FlatBlack<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/script&gt;</span>
          <span class="nt">&lt;/material&gt;</span>
        <span class="nt">&lt;/visual&gt;</span>
        <span class="nt">&lt;velocity_decay&gt;</span>
          <span class="nt">&lt;linear&gt;</span>0<span class="nt">&lt;/linear&gt;</span>
          <span class="nt">&lt;angular&gt;</span>0<span class="nt">&lt;/angular&gt;</span>
        <span class="nt">&lt;/velocity_decay&gt;</span>
        <span class="nt">&lt;self_collide&gt;</span>0<span class="nt">&lt;/self_collide&gt;</span>
        <span class="nt">&lt;kinematic&gt;</span>0<span class="nt">&lt;/kinematic&gt;</span>
        <span class="nt">&lt;gravity&gt;</span>1<span class="nt">&lt;/gravity&gt;</span>
      <span class="nt">&lt;/link&gt;</span>
      <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_wheel&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>0.1 0.17 0.11 0 1.5707 1.5707<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;inertial&gt;</span>
          <span class="nt">&lt;mass&gt;</span>1.5<span class="nt">&lt;/mass&gt;</span>
          <span class="nt">&lt;inertia&gt;</span>
            <span class="nt">&lt;ixx&gt;</span>0.0051<span class="nt">&lt;/ixx&gt;</span>
            <span class="nt">&lt;iyy&gt;</span>0.0051<span class="nt">&lt;/iyy&gt;</span>
            <span class="nt">&lt;izz&gt;</span>0.009<span class="nt">&lt;/izz&gt;</span>
            <span class="nt">&lt;ixy&gt;</span>0<span class="nt">&lt;/ixy&gt;</span>
            <span class="nt">&lt;ixz&gt;</span>0<span class="nt">&lt;/ixz&gt;</span>
            <span class="nt">&lt;iyz&gt;</span>0<span class="nt">&lt;/iyz&gt;</span>
          <span class="nt">&lt;/inertia&gt;</span>
        <span class="nt">&lt;/inertial&gt;</span>
        <span class="nt">&lt;collision</span> <span class="na">name=</span><span class="s">&quot;collision&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;cylinder&gt;</span>
              <span class="nt">&lt;radius&gt;</span>0.11<span class="nt">&lt;/radius&gt;</span>
              <span class="nt">&lt;length&gt;</span>0.05<span class="nt">&lt;/length&gt;</span>
            <span class="nt">&lt;/cylinder&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;surface&gt;</span>
            <span class="nt">&lt;friction&gt;</span>
              <span class="nt">&lt;ode&gt;</span>
                <span class="nt">&lt;mu&gt;</span>100000<span class="nt">&lt;/mu&gt;</span>
                <span class="nt">&lt;mu2&gt;</span>100000<span class="nt">&lt;/mu2&gt;</span>
                <span class="nt">&lt;slip1&gt;</span>0<span class="nt">&lt;/slip1&gt;</span>
                <span class="nt">&lt;slip2&gt;</span>0<span class="nt">&lt;/slip2&gt;</span>
              <span class="nt">&lt;/ode&gt;</span>
            <span class="nt">&lt;/friction&gt;</span>
            <span class="nt">&lt;bounce/&gt;</span>
            <span class="nt">&lt;contact&gt;</span>
              <span class="nt">&lt;ode/&gt;</span>
            <span class="nt">&lt;/contact&gt;</span>
          <span class="nt">&lt;/surface&gt;</span>
          <span class="nt">&lt;max_contacts&gt;</span>10<span class="nt">&lt;/max_contacts&gt;</span>
        <span class="nt">&lt;/collision&gt;</span>
        <span class="nt">&lt;visual</span> <span class="na">name=</span><span class="s">&quot;visual&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;geometry&gt;</span>
            <span class="nt">&lt;cylinder&gt;</span>
              <span class="nt">&lt;radius&gt;</span>0.11<span class="nt">&lt;/radius&gt;</span>
              <span class="nt">&lt;length&gt;</span>0.05<span class="nt">&lt;/length&gt;</span>
            <span class="nt">&lt;/cylinder&gt;</span>
          <span class="nt">&lt;/geometry&gt;</span>
          <span class="nt">&lt;material&gt;</span>
            <span class="nt">&lt;script&gt;</span>
              <span class="nt">&lt;uri&gt;</span>file://media/materials/scripts/gazebo.material<span class="nt">&lt;/uri&gt;</span>
              <span class="nt">&lt;name&gt;</span>Gazebo/FlatBlack<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/script&gt;</span>
          <span class="nt">&lt;/material&gt;</span>
        <span class="nt">&lt;/visual&gt;</span>
        <span class="nt">&lt;velocity_decay&gt;</span>
          <span class="nt">&lt;linear&gt;</span>0<span class="nt">&lt;/linear&gt;</span>
          <span class="nt">&lt;angular&gt;</span>0<span class="nt">&lt;/angular&gt;</span>
        <span class="nt">&lt;/velocity_decay&gt;</span>
        <span class="nt">&lt;self_collide&gt;</span>0<span class="nt">&lt;/self_collide&gt;</span>
        <span class="nt">&lt;kinematic&gt;</span>0<span class="nt">&lt;/kinematic&gt;</span>
        <span class="nt">&lt;gravity&gt;</span>1<span class="nt">&lt;/gravity&gt;</span>
      <span class="nt">&lt;/link&gt;</span>
      <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;left_wheel_hinge&quot;</span> <span class="na">type=</span><span class="s">&quot;revolute&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>0 0 -0.03 0 -0 0<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;child&gt;</span>left_wheel<span class="nt">&lt;/child&gt;</span>
        <span class="nt">&lt;parent&gt;</span>chassis<span class="nt">&lt;/parent&gt;</span>
        <span class="nt">&lt;axis&gt;</span>
          <span class="nt">&lt;xyz&gt;</span>0 1 0<span class="nt">&lt;/xyz&gt;</span>
          <span class="nt">&lt;limit&gt;</span>
            <span class="nt">&lt;lower&gt;</span>-1e+16<span class="nt">&lt;/lower&gt;</span>
            <span class="nt">&lt;upper&gt;</span>1e+16<span class="nt">&lt;/upper&gt;</span>
          <span class="nt">&lt;/limit&gt;</span>
        <span class="nt">&lt;/axis&gt;</span>
      <span class="nt">&lt;/joint&gt;</span>
      <span class="nt">&lt;joint</span> <span class="na">name=</span><span class="s">&quot;right_wheel_hinge&quot;</span> <span class="na">type=</span><span class="s">&quot;revolute&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>0 0 0.03 0 -0 0<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;child&gt;</span>right_wheel<span class="nt">&lt;/child&gt;</span>
        <span class="nt">&lt;parent&gt;</span>chassis<span class="nt">&lt;/parent&gt;</span>
        <span class="nt">&lt;axis&gt;</span>
          <span class="nt">&lt;xyz&gt;</span>0 1 0<span class="nt">&lt;/xyz&gt;</span>
          <span class="nt">&lt;limit&gt;</span>
            <span class="nt">&lt;lower&gt;</span>-1e+16<span class="nt">&lt;/lower&gt;</span>
            <span class="nt">&lt;upper&gt;</span>1e+16<span class="nt">&lt;/upper&gt;</span>
          <span class="nt">&lt;/limit&gt;</span>
        <span class="nt">&lt;/axis&gt;</span>
      <span class="nt">&lt;/joint&gt;</span>
      <span class="cm">&lt;!-- Replaced Gazebo&#39;s differential drive plugin with the ROS-friendly variant --&gt;</span>
      <span class="cm">&lt;!--</span>
<span class="cm">      &lt;plugin filename=&quot;libDiffDrivePlugin.so&quot; name=&quot;diff_drive&quot;&gt;</span>
<span class="cm">      &lt;left_joint&gt;left_wheel_hinge&lt;/left_joint&gt;</span>
<span class="cm">      &lt;right_joint&gt;right_wheel_hinge&lt;/right_joint&gt;</span>
<span class="cm">      &lt;torque&gt;5&lt;/torque&gt;</span>
<span class="cm">      &lt;/plugin&gt;</span>
<span class="cm">      --&gt;</span>
      <span class="nt">&lt;plugin</span> <span class="na">name=</span><span class="s">&quot;differential_drive_controller&quot;</span> <span class="na">filename=</span><span class="s">&quot;libgazebo_ros_diff_drive.so&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;alwaysOn&gt;</span>true<span class="nt">&lt;/alwaysOn&gt;</span>
        <span class="nt">&lt;updateRate&gt;</span>100<span class="nt">&lt;/updateRate&gt;</span>
        <span class="nt">&lt;leftJoint&gt;</span>left_wheel_hinge<span class="nt">&lt;/leftJoint&gt;</span>
        <span class="nt">&lt;rightJoint&gt;</span>right_wheel_hinge<span class="nt">&lt;/rightJoint&gt;</span>
        <span class="nt">&lt;wheelSeparation&gt;</span>0.39<span class="nt">&lt;/wheelSeparation&gt;</span>
        <span class="nt">&lt;wheelDiameter&gt;</span>0.15<span class="nt">&lt;/wheelDiameter&gt;</span>
        <span class="nt">&lt;torque&gt;</span>5<span class="nt">&lt;/torque&gt;</span>
        <span class="nt">&lt;commandTopic&gt;</span>cmd_vel<span class="nt">&lt;/commandTopic&gt;</span>
        <span class="nt">&lt;odometryTopic&gt;</span>odom<span class="nt">&lt;/odometryTopic&gt;</span>
        <span class="nt">&lt;odometryFrame&gt;</span>odom<span class="nt">&lt;/odometryFrame&gt;</span>
        <span class="nt">&lt;robotBaseFrame&gt;</span>chassis<span class="nt">&lt;/robotBaseFrame&gt;</span>
      <span class="nt">&lt;/plugin&gt;</span>
      <span class="nt">&lt;pose&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/pose&gt;</span>
      <span class="nt">&lt;static&gt;</span>0<span class="nt">&lt;/static&gt;</span>
    <span class="nt">&lt;/model&gt;</span>
    <span class="nt">&lt;state</span> <span class="na">world_name=</span><span class="s">&quot;default&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;sim_time&gt;</span>85 304000000<span class="nt">&lt;/sim_time&gt;</span>
      <span class="nt">&lt;real_time&gt;</span>85 849190220<span class="nt">&lt;/real_time&gt;</span>
      <span class="nt">&lt;wall_time&gt;</span>1432260579 736436496<span class="nt">&lt;/wall_time&gt;</span>
      <span class="nt">&lt;model</span> <span class="na">name=</span><span class="s">&quot;ground_plane&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;link&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;velocity&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/velocity&gt;</span>
          <span class="nt">&lt;acceleration&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/acceleration&gt;</span>
          <span class="nt">&lt;wrench&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/wrench&gt;</span>
        <span class="nt">&lt;/link&gt;</span>
      <span class="nt">&lt;/model&gt;</span>
      <span class="nt">&lt;model</span> <span class="na">name=</span><span class="s">&quot;pioneer2dx&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>-0.103826 0.027961 2e-06 -2e-06 -8e-06 -0.094162<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;chassis&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>-0.103827 0.027961 0.160002 -2e-06 -8e-06 -0.094162<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;velocity&gt;</span>-0.000797 0.002229 0.003363 -0.024657 -0.007301 0.0023<span class="nt">&lt;/velocity&gt;</span>
          <span class="nt">&lt;acceleration&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/acceleration&gt;</span>
          <span class="nt">&lt;wrench&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/wrench&gt;</span>
        <span class="nt">&lt;/link&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;left_wheel&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>0.011714 0.187806 0.110002 1.38258 1.57033 2.85912<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;velocity&gt;</span>-0.000816 0.001565 0.000275 -0.014307 -0.006987 0.002012<span class="nt">&lt;/velocity&gt;</span>
          <span class="nt">&lt;acceleration&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/acceleration&gt;</span>
          <span class="nt">&lt;wrench&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/wrench&gt;</span>
        <span class="nt">&lt;/link&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">name=</span><span class="s">&quot;right_wheel&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;pose&gt;</span>-0.020254 -0.150688 0.110002 -1.56886 1.51434 -0.092322<span class="nt">&lt;/pose&gt;</span>
          <span class="nt">&lt;velocity&gt;</span>-0.000347 0.001559 0.008433 -0.014387 -0.003243 0.000126<span class="nt">&lt;/velocity&gt;</span>
          <span class="nt">&lt;acceleration&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/acceleration&gt;</span>
          <span class="nt">&lt;wrench&gt;</span>0 0 0 0 -0 0<span class="nt">&lt;/wrench&gt;</span>
        <span class="nt">&lt;/link&gt;</span>
      <span class="nt">&lt;/model&gt;</span>
    <span class="nt">&lt;/state&gt;</span>
    <span class="nt">&lt;gui</span> <span class="na">fullscreen=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;camera</span> <span class="na">name=</span><span class="s">&quot;user_camera&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;pose&gt;</span>5 -5 2 0 0.275643 2.35619<span class="nt">&lt;/pose&gt;</span>
        <span class="nt">&lt;view_controller&gt;</span>orbit<span class="nt">&lt;/view_controller&gt;</span>
      <span class="nt">&lt;/camera&gt;</span>
    <span class="nt">&lt;/gui&gt;</span>
  <span class="nt">&lt;/world&gt;</span>
<span class="nt">&lt;/sdf&gt;</span>
</code></pre></div>
</td></tr></table>
<p>Open a terminal window and start the ROS middleware by entering:</p>
<div class="highlight"><pre><span></span><code>$ roscore
</code></pre></div>

<p>Open another terminal window, <code>cd</code> to the folder containing <code>pioneer2dx_ros.world</code> and enter:</p>
<div class="highlight"><pre><span></span><code>$ rosrun gazebo_ros gazebo -file pioneer2dx_ros.world
</code></pre></div>

<p>You should now have a Gazebo window opened with a Pioneer 2DX placed in the middle of an empty world.</p>
<p><img alt="Gazebo GUI" src="./images/articles/2015-05-21-01/snapshot.png"></p>
<p>Finally, open a third terminal window (it's the last one, I promise) and check if the differential drive topics have been published:</p>
<div class="highlight"><pre><span></span><code>$ rostopic list
</code></pre></div>

<p>The following topics should be visible, among others:</p>
<div class="highlight"><pre><span></span><code>/pioneer2dx/cmd_vel
/pioneer2dx/odom
</code></pre></div>

<p>You should now be able to get the robot moving by publishing messages to the <code>/pioneer2dx/cmd_vel</code> topic, e.g.</p>
<div class="highlight"><pre><span></span><code>$ rostopic pub -1 /pioneer2dx/cmd_vel geometry_msgs/Twist <span class="se">\</span>
<span class="s1">&#39;{linear: {x: 1.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 1.0}}&#39;</span>
</code></pre></div>

<p>Should get the robot running in a loop.</p>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

  <h4>Pages</h4>

  <ul>
    <li><a href="/posts.html">Posts</a></li>

    <li ><a href="./pages/projects.html">Projects</a></li>
  





</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="./theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="./theme/js/libs/gumby.min.js"></script>
  <script src="./theme/js/plugins.js"></script>
</body>
</html>